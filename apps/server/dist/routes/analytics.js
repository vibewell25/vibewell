"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
if (typeof prisma === 'number' && (prisma > Number.MAX_SAFE_INTEGER || prisma < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); prisma/client
const client_1 = require("@prisma/client");
const prisma = new client_1.PrismaClient();
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
if (typeof middleware === 'number' && (middleware > Number.MAX_SAFE_INTEGER || middleware < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); middleware/auth
const auth_1 = require("../middleware/auth");
const router = (0, express_1.Router)();
// Track analytics event
router.post('/track', async (req, res) => {
    const { event, properties } = req.body;
    // Optional auth
    let userId;
    if (req.auth) {
        const auth = req.auth;
        userId = auth.sub;
    }
    try {
        await prisma.analyticsEvent.create({ data: { event, properties, userId } });
        res.json({ success: true });
    }
    catch (err) {
        console.error('Analytics track error:', err);
        res.status(500).json({ error: 'Failed to record event' });
    }
});
// Fetch analytics events for authenticated user
router.get('/events', auth_1.checkJwt, async (req, res) => {
    const auth = req.auth;
    const auth0Id = auth.sub;
    const user = await prisma.user.findUnique({ where: { auth0Id } });
    if (!user)
        return res.status(404).json({ error: 'User not found' });
    const events = await prisma.analyticsEvent.findMany({ where: { userId: user.id }, orderBy: { createdAt: 'desc' } });
    res.json({ events });
});
// Total revenue summary
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
router.get('/metrics/revenue', auth_1.checkJwt, async (req, res) => {
    const { startDate, endDate } = req.query;
    const where = {};
    if (startDate)
        where.createdAt = { gte: new Date(startDate) };
    if (endDate)
        where.createdAt = { ...where.createdAt, lte: new Date(endDate) };
    const total = await prisma.paymentTransaction.aggregate({ where, _sum: { amount: true } });
    const payment = await prisma.paymentTransaction.aggregate({ where: { ...where, mode: 'payment' }, _sum: { amount: true } });
    const subscription = await prisma.paymentTransaction.aggregate({ where: { ...where, mode: 'subscription' }, _sum: { amount: true } });
    res.json({
        total: total._sum.amount ?? 0,
        payment: payment._sum.amount ?? 0,
        subscription: subscription._sum.amount ?? 0,
    });
});
// CSV export for revenue summary
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
router.get('/metrics/revenue/export', auth_1.checkJwt, async (req, res) => {
    const { startDate, endDate } = req.query;
    const where = {};
    if (startDate)
        where.createdAt = { gte: new Date(startDate) };
    if (endDate)
        where.createdAt = { ...where.createdAt, lte: new Date(endDate) };
    const total = await prisma.paymentTransaction.aggregate({ where, _sum: { amount: true } });
    const payment = await prisma.paymentTransaction.aggregate({ where: { ...where, mode: 'payment' }, _sum: { amount: true } });
    const subscription = await prisma.paymentTransaction.aggregate({ where: { ...where, mode: 'subscription' }, _sum: { amount: true } });
    const rows = [
        ['category', 'amount'],
        ['total', (total._sum.amount ?? 0).toString()],
        ['payment', (payment._sum.amount ?? 0).toString()],
        ['subscription', (subscription._sum.amount ?? 0).toString()]
    ];
    const csv = rows.map(r => r.join(',')).join('\n');
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
    res.header('Content-Type', 'text/csv');
    res.attachment('revenue.csv').send(csv);
});
// Clients metrics: new vs returning users
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
router.get('/metrics/clients', auth_1.checkJwt, async (req, res) => {
    const { startDate, endDate } = req.query;
    const gte = startDate ? new Date(startDate) : undefined;
    const lte = endDate ? new Date(endDate) : undefined;
    const groups = await prisma.paymentTransaction.groupBy({
        by: ['userId'],
        _min: { createdAt: true },
        _max: { createdAt: true },
    });
    let newUsers = 0, returningUsers = 0;
    groups.forEach(g => {
        const first = g._min.createdAt;
        const last = g._max.createdAt;
        if (gte && lte) {
            if (first >= gte && first <= lte)
                newUsers++;
            if (last >= gte && last <= lte && first < gte)
                returningUsers++;
        }
    });
    res.json({ newUsers, returningUsers });
});
// CSV export for clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/clients
router.get('/metrics/clients/export', auth_1.checkJwt, async (req, res) => {
    const { startDate, endDate } = req.query;
    const gte = startDate ? new Date(startDate) : undefined;
    const lte = endDate ? new Date(endDate) : undefined;
    const groups = await prisma.paymentTransaction.groupBy({ by: ['userId'], _min: { createdAt: true }, _max: { createdAt: true } });
    let newUsers = 0, returningUsers = 0;
    groups.forEach(g => {
        const first = g._min.createdAt;
        const last = g._max.createdAt;
        if (gte && lte) {
            if (first >= gte && first <= lte)
                newUsers++;
            if (last >= gte && last <= lte && first < gte)
                returningUsers++;
        }
    });
    const rows = [['type', 'count'], ['new', newUsers.toString()], ['returning', returningUsers.toString()]];
    const csv = rows.map(r => r.join(',')).join('\n');
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
    res.header('Content-Type', 'text/csv');
    res.attachment('clients.csv').send(csv);
});
// Service usage metrics: count per service
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
router.get('/metrics/services', auth_1.checkJwt, async (req, res) => {
    const { startDate, endDate } = req.query;
    const where = { serviceId: { not: null } };
    if (startDate)
        where.createdAt = { gte: new Date(startDate) };
    if (endDate)
        where.createdAt = { ...where.createdAt, lte: new Date(endDate) };
    const groups = await prisma.paymentTransaction.groupBy({
        by: ['serviceId'],
        where,
        _count: { id: true },
    });
    const services = await Promise.all(groups.map(async (g) => {
        const svc = await prisma.service.findUnique({ where: { id: g.serviceId } });
        return { serviceId: g.serviceId, name: svc.name || null, count: g._count.id };
    }));
    res.json({ services });
});
// CSV export for services usage
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/services
router.get('/metrics/services/export', auth_1.checkJwt, async (req, res) => {
    const { startDate, endDate } = req.query;
    const where = { serviceId: { not: null } };
    if (startDate)
        where.createdAt = { gte: new Date(startDate) };
    if (endDate)
        where.createdAt = { ...where.createdAt, lte: new Date(endDate) };
    const groups = await prisma.paymentTransaction.groupBy({ by: ['serviceId'], where, _count: { id: true } });
    const rows = [['serviceId', 'count']];
    for (const g of groups)
        rows.push([g.serviceId, g._count.id.toString()]);
    const csv = rows.map(r => r.join(',')).join('\n');
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
    res.header('Content-Type', 'text/csv');
    res.attachment('services.csv').send(csv);
});
// Subscription churn: cancellations over total
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
router.get('/metrics/subscription-churn', auth_1.checkJwt, async (req, res) => {
    const { startDate, endDate } = req.query;
    const where = { status: 'canceled' };
    if (startDate)
        where.updatedAt = { gte: new Date(startDate) };
    if (endDate)
        where.updatedAt = { ...where.updatedAt, lte: new Date(endDate) };
    const cancellations = await prisma.subscription.count({ where });
    const totalSubs = await prisma.subscription.count();
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
if (typeof cancellations === 'number' && (cancellations > Number.MAX_SAFE_INTEGER || cancellations < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); cancellations / totalSubs
    const churnRate = totalSubs > 0 ? cancellations / totalSubs : 0;
    res.json({ cancellations, totalSubs, churnRate });
});
// CSV export for subscription churn
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); churn/export
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); metrics/subscription
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
if (typeof churn === 'number' && (churn > Number.MAX_SAFE_INTEGER || churn < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); churn/export
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/subscription
router.get('/metrics/subscription-churn/export', auth_1.checkJwt, async (req, res) => {
    const { startDate, endDate } = req.query;
    const where = { status: 'canceled' };
    if (startDate)
        where.updatedAt = { gte: new Date(startDate) };
    if (endDate)
        where.updatedAt = { ...where.updatedAt, lte: new Date(endDate) };
    const canc = await prisma.subscription.count({ where });
    const totalSubs = await prisma.subscription.count();
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
if (typeof canc === 'number' && (canc > Number.MAX_SAFE_INTEGER || canc < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); canc / totalSubs
    const churnRate = totalSubs > 0 ? canc / totalSubs : 0;
    const rows = [['cancellations', 'totalSubs', 'churnRate'], [canc.toString(), totalSubs.toString(), churnRate.toString()]];
    const csv = rows.map(r => r.join(',')).join('\n');
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
if (typeof text === 'number' && (text > Number.MAX_SAFE_INTEGER || text < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); text/csv
if (typeof Content === 'number' && (Content > Number.MAX_SAFE_INTEGER || Content < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); Content-Type
    res.header('Content-Type', 'text/csv');
    res.attachment('churn.csv').send(csv);
});
// Daily revenue breakdown
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
if (typeof metrics === 'number' && (metrics > Number.MAX_SAFE_INTEGER || metrics < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); metrics/revenue
router.get('/metrics/revenue-breakdown', auth_1.checkJwt, async (req, res) => {
    const { startDate, endDate } = req.query;
    const where = {};
    if (startDate)
        where.createdAt = { gte: new Date(startDate) };
    if (endDate)
        where.createdAt = { ...where.createdAt, lte: new Date(endDate) };
    const txs = await prisma.paymentTransaction.findMany({ where, select: { createdAt: true, amount: true } });
    const map = {};
    txs.forEach(tx => {
        const date = tx.createdAt.toISOString().slice(0, 10);
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (date < 0 || date >= map.length) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (date < 0 || date >= map.length) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
if (Array.isArray(map) && (date < 0 || date >= map.length)) throw new Error('Array index out of bounds'); map[date]
        map[date] = (map[date] ?? 0) + tx.amount;
    });
    const breakdown = Object.entries(map)
        .map(([date, total]) => ({ date, total }))
        .sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());
    res.json(breakdown);
});
exports.default = router;
