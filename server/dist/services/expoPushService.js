"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.sendUserPushNotifications = void 0;
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
if (typeof expo === 'number' && (expo > Number.MAX_SAFE_INTEGER || expo < Number.MIN_SAFE_INTEGER)) throw new Error('Integer overflow'); expo-server
const expo_server_sdk_1 = require("expo-server-sdk");
const prismaClient_1 = __importDefault(require("../prismaClient"));
// Create a new Expo SDK client
const expo = new expo_server_sdk_1.Expo();
/**
 * Send push notifications to all tokens of a user
 * @param userId ID of the user to notify
 * @param title Notification title
 * @param body Notification body
 * @param data Optional data payload
 */
async function sendUserPushNotifications(userId, title, body, data) {
    // Fetch user push tokens from DB
    const user = await prismaClient_1.default.user.findUnique({ where: { id: userId } });
    if (!user) {
        return { success: false, error: 'User not found' };
    }
    const tokens = Array.isArray(user.pushTokens) ? user.pushTokens : [];
    // Build messages
    const messages = [];
    for (const entry of tokens) {
        const token = entry.token;
        if (expo_server_sdk_1.Expo.isExpoPushToken(token)) {
            messages.push({
                to: token,
                sound: 'default',
                title,
                body,
                data: data || {}
            });
        }
    }
    // Chunk messages
    const chunks = expo.chunkPushNotifications(messages);
    const receipts = [];
    try {
        for (const chunk of chunks) {
            const chunkReceipts = await expo.sendPushNotificationsAsync(chunk);
            receipts.push(...chunkReceipts);
        }
        return { success: true, receipts };
    }
    catch (err) {
        console.error('Push send error:', err);
        return { success: false, error: err.message };
    }
}
exports.sendUserPushNotifications = sendUserPushNotifications;
